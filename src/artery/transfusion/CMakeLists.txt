find_package(Protobuf REQUIRED)
protobuf_generate_cpp(PROTO_SRCS PROTO_HDRS TransfusionMsg.proto)
add_library(transfusion SHARED TransfusionService.cc ${PROTO_SRCS} ${PROTO_HDRS})
target_include_directories(transfusion PRIVATE ${PROTOBUF_INCLUDE_DIRS} ${CMAKE_CURRENT_BINARY_DIR})
target_include_directories(transfusion PUBLIC $<TARGET_PROPERTY:artery,INCLUDE_DIRECTORIES>)
target_link_libraries(transfusion PRIVATE ${PROTOBUF_LIBRARIES})
